---
title: 2手RZP探索の高速化手法
author: uesyuu
type: post
date: 2025-06-24T21:00:00+09:00
categories:
  - 未分類
  
---

&nbsp;

こんにちは、うえしゅうです。

&nbsp;

FMCの解法であるDR(Domino Reduction)にはRZPというステップがあります。

参考記事: [RZPの基礎知識 | uesyuu's Blog](https://blog.uesyuu.com/post/2025-01-20-eo-to-rzp/)

RZPは行う回転が決まっているため、回してbadパーツの数が合ってるか確認して戻して…の繰り返しで探索できるのですが、実は今回紹介する手法を使えばキューブを回さずともRZPになりうる回転を見つけることができるのです。

この方法を使えばキューブを回す必要がないためより早くRZPを見つけることが可能です。

自分はこの手法を2手RZPを見つけるときにだけ使っているので、今回は自分がどのように2手RZPを探しているかを説明します。

&nbsp;

## 概要

まずは、自分が2手RZPを探すときの大まかな流れを説明します。FB軸EOが完成しており、UD面DRを作りに行く想定だとします。

1. 全体のコーナーのうち揃っているコーナーの数を数える
2. UFR-UBRのコーナーペアについて、Rすると揃っているコーナーがいくつ増える/減るか計算する
3. 揃っているコーナーが4個 or 5個になるには2の計算結果に対していくつ足し引きすればいいかを計算する(DR-4e4c, DR-2e4cは揃っているコーナーが4個、DR-2e3cは揃っているコーナーが5個のため)
4. 3の計算結果にマッチするようなコーナーペアがD面にあるか探す
5. そのコーナーペアをDFR-DBRに持ってきてRすればコーナーの数は4個 or 5個になり、RZPになる可能性がある(エッジは後ほど説明)
6. 2〜5をDFR-DBR、UFL-UBL、DFL-DBLについても行う

このように、COをカウンティングしつつ適切なコーナーペアを選ぶことで、キューブを回すことなく効率的にRZPを見つけることができるのです。

&nbsp;

## コーナーペアの種類

次に、コーナーペアにはどのような種類があるか説明します。

コーナーペアは全部で6種類あります。名前は自分で適当につけました。

|画像|名前|COの増減|
|--|--|--|
|<img src="/images/2025/06/1-1.png" width="100" />|対面ペア|+2|
|<img src="/images/2025/06/1-2.png" width="100" />|横インターチェンジペア|+1|
|<img src="/images/2025/06/1-3.png" width="100" />|縦インターチェンジペア|0|
|<img src="/images/2025/06/1-4.png" width="100" />|側面ペア|0|
|<img src="/images/2025/06/1-5.png" width="100" />|ねじれペア|-1|
|<img src="/images/2025/06/1-6.png" width="100" />|完成ペア|-2|

まずはこれらを覚えましょう。

&nbsp;

## 実践

実際に例を出して説明しましょう

`スクランブル(EO完成): R' U' F D' L F' D' F' U R2 U' R F' D' B2 U' F2 U' R2 F2 B2 R2 D' R' U' F D' R U' R' B D L R2 U'`

現在のコーナーの状態はUFLとDFLの2つ揃っています。なのでまず2と覚えておいてください。

&nbsp;

### UFR-UBRペア

最初にUFR-UBRペアに着目します。

ここでは`D R, D' R, D2 R`のRZP候補についてキューブを回さずに分析します。

まずはエッジを見ましょう。UFRとUBRに挟まれたUR、そしてその反対側のE列エッジのFLとBLを見ます。この3エッジがもし仮にすべてUD面エッジだった場合、D面のどのコーナーペアを使ってRを回しても、必ずE列に3つのUD面エッジが来てしまうためRZPにはなりません。ただ、今回はこの3エッジのうち2つがE列エッジなので、D面のコーナーペアは間にE列エッジが挟まっているものでも挟まっていないものでもどちらもRZPになる可能性があります。(E列エッジがある場合E列が3つ揃うため、DR-2e4cかDR-2e3cの可能性がある。E列エッジがない場合E列が2つ揃うため、DR-4e4cの可能性がある。)

続いてコーナーペアを見ます。コーナーペアは側面ペアでした。つまり0です。そのためこれを全体のコーナー数と合算すると2+0=2となります。ここから全体のコーナー数を4 or 5にするにはD面のコーナーペアが+2でないといけません。なぜなら、コーナーペアの最大値は+2であり+3は存在しないからです。

コーナーペアが+2というのは対面ペアのことでしたね。ということでD面を見ると、DFR-DBRに対面ペアがあり、他にはありませんでした。つまりこのペアを使う`R`がDR-4e4cのRZPと判明しました！

ちなみにこの`R`は1手RZPであり、2手RZPを探す前にすでに見つかっている想定のため、実際に2手RZPを探すときはDFR-DBRペア以外のコーナーペアについてだけ考えましょう。

&nbsp;

### DFR-DBRペア

次にDFR-DBRペアに着目します。

ここでは`U R, U' R, U2 R`のRZP候補についてキューブを回さずに分析します。

まずはエッジを見ます。DR, FL, BLはすべてE列エッジでした。つまりU面のコーナーペアはE列エッジが含まれないものでないといけません。なぜなら、E列エッジを含んでいるとRZP時にE列がすべて揃ってしまいDR-4e4c, DR-2e4c, DR-2e3cのどれにも該当しないからです。

次にコーナーを見ます。DFR-DBRは対面ペアでした。つまり2+2=4です。E列が3つ揃うことは確定なので、DR-2e4cかDR-2e3cになるためにはU面のコーナーペアは0か+1でないといけません。探してみると、UFR-UBRは0、UFR-UFLは0、UBR-UBLは+1、UFL-UBLは0であり、すべて良さそうです。しかしUFL-UBLは間にE列エッジが挟まっているので却下。

ということで、RZPとして適切なのは`R, U R, U' R`の3つでした。例によって`R`は見つけてる想定のため計2つです。

&nbsp;

### UFL-UBLペア

次にUFL-UBLペアに着目します。

ここでは`D L, D' L, D2 L`のRZP候補についてキューブを回さずに分析します。

まずはエッジを見ます。UL, FR, BRのうちE列エッジは1つだけでした。つまりD面のコーナーペアにはE列エッジが含まれないとRZPにはなりえません。

次にコーナーを見ます。UFL-UBLは縦インターチェンジなので0です。つまり2+0=2です。2ということはD面のコーナーペアが2の対面ペアでないと行けないということです。

探してみると、DFR-DBRが対面ペアであり、かつ間にE列エッジも挟まっています。これが使えそうです。

ということで、RZPとして適切なのは`D2 L`の1つだけでした。

&nbsp;

### DFL-DBLペア

最後にDFL-DBLペアに着目します。

ここでは`U L, U' L, U2 L`のRZP候補についてキューブを回さずに分析します。

まずはエッジを見ます。DL, FR, BRのうちE列エッジは1つもありませんでした。これはつまり、U面のどのコーナーペアを使ってもE列エッジは1つ以下になってしまいRZPが作れない、ということです。つまりこの時点で却下です。

このように、E列エッジが1つもないとすぐにそのコーナーペアを却下できるので足切りにおすすめです。

&nbsp;

結果として、このEOからは以下の2手RZPが作れました。

```
U R
U' R
D2 L
```

これら一連の流れを、zした状態、F2した状態、F2 zした状態でも同じように行います。

&nbsp;

## 細かいtips

その他にも、知っておくと簡単に足切りができるtipsを紹介します。

### 例1

`スクランブル(EO完成): R' U' F D' L F' D' F' U R2 U' R F' D' B2 U' F2 U' R2 F2 B2 R2 D' R' U' F D' R U' R' B L' U2 R D' F2 U`

このEOはコーナーが1つも揃っていません。こういうときはUFR-UBRペア、DFR-DBRペア、UFL-UBLペア、DFL-DBLペアに+2の対面ペアが1つもなければ2手RZPは作れません。今回のEOを見てみるとそれが1つもないので、2手RZPが無理ということが一瞬でわかります。

コーナーが1つも揃っていないDR-Xe0cの場合、4cにするには必ず+2の対面ペアが2つ必要なので、それを意識すると良いと思います。

### 例2

`スクランブル(EO完成): R' U' F D' L F' D' F' U R2 U' R F' D' B2 U' F2 U' R2 F2 B2 R2 D' R' U' F D' R U' R' B U L' U2 R`

このEOはコーナーが1つだけ揃っています。このとき、COを4個もしくは5個揃えるには「+2の対面ペアと+2の対面ペア」もしくは「+2の対面ペアと+1の横インターチェンジペア」のどちらかが必要です。つまり、これらがない場合2手RZPを作ることは不可能ということです。

キューブの状態を見ると、UBR-UBLに対面ペアがありますね。D面を見るとDFR-DBRとDFL-DBLに横インターチェンジペアがあるのでこれとくっつければコーナーの数は良くなりそうです。しかしどちらもE列エッジが足りません。そのため2手RZPは無理とわかります。

&nbsp;

## 終わりに

このようにCOカウンティングとエッジ配置によって、キューブを回さずRZPを探索することができます。

この方法の利点は、絶対にRZPにならないと確定できる部分の足切りが早い段階でできることです。キューブを回す方法だとどんなときでも回して判断する必要がありましたが、その時間を削減できるのはメリットだと思います。

今回説明した方法もあくまで自分独自の方法であり改善の余地はあると思いますが、慣れれば感覚として結構なスピードで2手RZPを探すことができる自信があります。

&nbsp;

みなさんもこのRZP探索方法を使ってはいかがでしょうか？

&nbsp;